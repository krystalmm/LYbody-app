<% provide(:title, 'クレジットカード情報入力 | LYbody') %>

<%= render 'shared/backpage' %>

<div class="container">
  <div class="row">
    <div class="card-page col-8 offset-2">
      <h2 class="border-heading-bottom">クレジットカード情報入力</h2>
      <div class="card-form col-12 col-lg-10 offset-lg-1 my-5 pt-5">
        <%= form_with model: @card, url: cards_path, id: 'card-form', method: :post do |f| %>
          <div class="card-form-number">
            <strong><%= f.label :カード番号, class: 'card-form-number-title' %></strong>
            <span class="essential-icon">必須</span>
          </div>
          <div class="card-form-field">
            <%= f.text_field :card_number, id: 'card_number', placeholder: '半角数字のみ', class: 'card-form-input form-control', maxlength: 16 %>
          </div>
          <div class="card-form-img mt-2">
            <%= image_tag(asset_path('cards/icon_visa.png'), class: 'visa mr-2', width: 58, height: 28) %>
            <%= image_tag(asset_path('cards/icon_mastercard.png'), class: 'master mr-2', width: 47, height: 36) %>
            <%= image_tag(asset_path('cards/icon_jcb.png'), class: 'jcb mr-2', width: 40, height: 30) %>
            <%= image_tag(asset_path('cards/icon_amex.png'), class: 'amex mr-2', width: 40, height: 30) %>
            <%= image_tag(asset_path('cards/icon_diners.png'), class: 'diners mr-2', width: 45, height: 32) %>
            <%= image_tag(asset_path('cards/icon_discover.png'), class: 'discover', width: 47, height: 30) %>
          </div>
          <div class="card-form-expirationdate mt-5">
            <div class="card-form-expirationdate-details">
              <strong><%= f.label :有効期限 %></strong>
              <span class="essential-icon">必須</span>
              <br>
            </div>
            <div class="card-form-expirationdate-choice">
              <div class="card-form-expirationdate-choice-month d-flex">
                <%= f.select :expiration_month, options_for_select(["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12"]), {}, { id: "exp_month", name: "exp_month", type: "text", class: 'form-control col-5' } %>
                <%= f.label :月, class: 'card-form-month-label ml-2 mt-auto' %>
              </div>
              <div class="card-form-expirationdate-choice-year d-flex mt-3">
                <%= f.select :expiration_year, options_for_select((2021..2031)), {}, { id: 'exp_year', name: 'exp_year', type: "text", class: 'form-control col-5' } %>
                <%= f.label :年, class: 'card-form-year-label ml-2 mt-auto' %>
              </div>
            </div>
          </div>
          <div class="card-form-securitycode mt-5">
            <div class="card-form-securitycode-details">
              <div class="card-form-securitycode-details-title">
                <strong><%= f.label :セキュリティーコード, class: 'securitycode-label' %></strong>
                <span class="essential-icon">必須</span>
              </div>
              <div class="card-form-securitycode-details-field">
                <%= f.text_field :cvc, id: 'cvc', class: 'cvc', placeholder: 'カード背面3桁もしくは4桁の番号', maxlength: '4', class: 'form-control col-8' %>
              </div>
            </div>
          </div>
           <div id="card-token" class="mt-2">
            <%= f.submit "決済する", id: 'token_submit', class: 'btn btn-outline-light btn-lg col-12  my-5' %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>